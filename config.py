# 장전 종목 선정 시스템 설정

# ============================================================
# 1. 최소 필터 기준 (극소형만 제외)
# ============================================================
MIN_TRADING_VALUE = 10_000_000_000   # 거래대금 100억 이상 (극소형 제외)
MIN_MARKET_CAP = 10_000_000_000      # 시가총액 100억 이상 (극소형 제외)
MIN_PRICE = 100                       # 100원 이상 (페니스탁 제외)
MAX_PRICE = 1_000_000                 # 100만원 이하 (극단적 고가만 제외)
MIN_PRICE_CHANGE = -30.0              # 등락률 -30% 이상 (폭락주 제외)

# ============================================================
# 2. 점수 배점 (총 145점)
# ============================================================
SCORE_WEIGHTS = {
    'disclosure': 40,        # 공시 (최우선!)
    'news': 25,              # 뉴스
    'theme_keywords': 15,    # 테마/키워드
    'investor': 10,          # 외국인/기관
    'trading_value': 15,     # 거래대금
    'market_cap': 10,        # 시가총액
    'price_momentum': 5,     # 가격 모멘텀
    'volume_surge': 10,      # 거래량 급증 (신규!)
    'turnover_rate': 5,      # 회전율 (신규!)
    'material_overlap': 5,   # 재료 중복도 (신규!)
    'news_timing': 5,        # 뉴스 시간대 (신규!)
}

# ============================================================
# 3. 거래대금 점수 기준 (15점 만점)
# ============================================================
TRADING_VALUE_TIERS = [
    (1000_000_000_000, 15),   # 1조 이상: 15점
    (500_000_000_000, 12),    # 5000억 이상: 12점
    (300_000_000_000, 10),    # 3000억 이상: 10점
    (100_000_000_000, 7),     # 1000억 이상: 7점
    (50_000_000_000, 5),      # 500억 이상: 5점
    (10_000_000_000, 3),      # 100억 이상: 3점
]

# ============================================================
# 4. 시가총액 점수 기준 (10점 만점)
# ============================================================
MARKET_CAP_TIERS = [
    (10_000_000_000_000, 10),  # 10조 이상 (대형주): 10점
    (1_000_000_000_000, 8),    # 1조 이상 (중형주): 8점
    (100_000_000_000, 6),      # 1000억 이상 (중소형): 6점
    (50_000_000_000, 4),       # 500억 이상 (소형): 4점
    (10_000_000_000, 2),       # 100억 이상 (초소형): 2점
]

# ============================================================
# 5. 가격 모멘텀 점수 (5점 만점)
# ============================================================
# 전일 대비 등락률 기준
PRICE_MOMENTUM_TIERS = [
    (10.0, 5),    # +10% 이상: 5점 (강한 상승)
    (5.0, 4),     # +5% 이상: 4점
    (3.0, 3),     # +3% 이상: 3점
    (0.0, 2),     # 0% 이상: 2점 (보합~상승)
    (-3.0, 1),    # -3% 이상: 1점 (소폭 하락)
    (-10.0, 0),   # -10% 이상: 0점 (하락)
]

# ============================================================
# 6. 거래량 급증 점수 (10점 만점)
# ============================================================
# 평균 거래량 대비 현재 거래량 비율
VOLUME_SURGE_TIERS = [
    (5.0, 10),    # 5배 이상: 10점 (폭발적 관심)
    (3.0, 8),     # 3-5배: 8점
    (2.0, 6),     # 2-3배: 6점
    (1.5, 4),     # 1.5-2배: 4점
    (1.0, 2),     # 1-1.5배: 2점
]

# ============================================================
# 7. 회전율 점수 (5점 만점)
# ============================================================
# 거래대금 / 시가총액 * 100 (%)
TURNOVER_RATE_TIERS = [
    (10.0, 5),    # 10% 이상: 5점 (초고회전)
    (5.0, 4),     # 5-10%: 4점
    (3.0, 3),     # 3-5%: 3점
    (1.0, 2),     # 1-3%: 2점
    (0.5, 1),     # 0.5-1%: 1점
]

# ============================================================
# 8. 재료 중복도 점수 (5점 만점)
# ============================================================
# 공시 + 뉴스 + 테마 동시 보유
MATERIAL_OVERLAP_BONUS = {
    'all_three': 5,     # 공시 + 뉴스 + 테마: 5점 (슈퍼 재료!)
    'two': 3,           # 2가지: 3점
    'one': 0,           # 1가지: 0점
}

# ============================================================
# 9. 뉴스 시간대 점수 (5점 만점)
# ============================================================
# 뉴스 발행 시간별 가중치
NEWS_TIMING_BONUS = {
    'morning': 5,       # 당일 06:00-08:30: 5점 (장전 최고!)
    'evening': 4,       # 전일 18:00-24:00: 4점 (장후)
    'afternoon': 3,     # 전일 15:00-18:00: 3점 (장중 후반)
    'other': 1,         # 기타: 1점
}

# ============================================================
# 10. 테마 키워드
# ============================================================
THEME_KEYWORDS = {
    'AI': ['인공지능', 'AI', '챗GPT', 'ChatGPT', '생성형AI', 'LLM', '딥러닝', '머신러닝', 'OpenAI', '클로드'],
    '반도체': ['반도체', '파운드리', 'HBM', '메모리', '시스템반도체', 'AP', 'GPU', 'TSMC', '삼성전자', 'SK하이닉스'],
    '2차전지': ['2차전지', '배터리', 'EV', '전기차', '양극재', '음극재', '분리막', '전해액', '리튬', 'LFP', 'NCM', 'NCA'],
    '바이오': ['바이오', '제약', '신약', '임상', 'FDA', '치료제', '백신', '헬스케어'],
    '방산': ['방산', '국방', '방위산업', '무기', '미사일', '전투기', '드론'],
    '엔터': ['엔터', '엔터테인먼트', 'K-POP', 'K팝', '아이돌', '콘서트', 'BTS', '블랙핑크'],
    '게임': ['게임', '모바일게임', 'PC게임', '콘솔게임', '메타버스', '크래프톤', '넥슨'],
    '수소': ['수소', '수소차', '연료전지', '그린수소', '수소경제'],
    '우주항공': ['우주', '항공', '위성', '발사체', '로켓'],
}

# ============================================================
# 11. 뉴스 소스 URL
# ============================================================
NEWS_SOURCES = [
    'https://finance.naver.com/news/news_list.naver?mode=LSS3D&section_id=101&section_id2=258&section_id3=401',  # 네이버 증시 뉴스
]

# ============================================================
# 12. 출력 설정
# ============================================================
OUTPUT_DIR = 'data'
JSON_FILE = 'morning_candidates.json'
TOP_N = 5  # 상위 5개 선정

# ============================================================
# 13. 대장주 가산점
# ============================================================
LEADING_STOCK_BONUS = 5  # 대장주 가산점

# ============================================================
# 14. 하위 호환성 (기존 코드와의 호환)
# ============================================================
VOLUME_SPIKE_MULTIPLIER = 1.0  # 더 이상 사용 안 함 (점수화)
